self.onmessage=function(event){const{code:code,ESM:ESM,TS:TS,codeFormatting:codeFormatting,BabelURL:BabelURL}=event.data;let transpiledCode;function ESMTranspile(e){return importScripts(BabelURL),Babel.transform(e,{presets:["env","es2015"],plugins:["transform-modules-umd"]}).code}function TSTranspile(e){return importScripts(BabelURL),Babel.transform(e,{filename:"script.ts",presets:["typescript"],plugins:["transform-modules-umd"]}).code}performance.mark("executionStarted"),transpiledCode=!0===ESM?ESMTranspile(code):!0===TS?TSTranspile(code):code;const timers={},counts={};let level=0;function JavaScriptObject(e,t=1,r=codeFormatting){let n=r?" ".repeat(4*t):"",o=r?"{\n":"{ ";for(let l in e)if(e.hasOwnProperty(l)){let a=e[l];"string"==typeof a?a=`'${JavaScriptString(a)}'`:Array.isArray(a)?a=JavaScriptArray(a,t+1,r):"object"==typeof a&&null!==a&&(a=JavaScriptObject(a,t+1,r)),o+=r?`${n}${l}: ${a},\n`:`${l}: ${a}, `}return o=r?o.slice(0,-2)+`\n${" ".repeat(4*(t-1))}}`:o.slice(0,-2)+" }",o}function JavaScriptArray(e,t=1,r=codeFormatting){let n=r?" ".repeat(4*t):"",o=r?"[\n":"[";for(let l=0;l<e.length;l++){let a=e[l];"string"==typeof a?a=`'${JavaScriptString(a)}'`:Array.isArray(a)?a=JavaScriptArray(a,t+1,r):"object"==typeof a&&null!==a&&(a=JavaScriptObject(a,t+1,r)),o+=r?`${n}${a},\n`:`${a}, `}return o=r?o.slice(0,-2)+`\n${" ".repeat(4*(t-1))}]`:o.slice(0,-2)+"]",o}function JavaScriptString(e){return e=(e=(e=(e=(e=e.replace(/\\/g,"\\").replace(/\'/g,"'").replace(/\"/g,'"').replace(/\n/g,"\n").replace(/\r/g,"\r").replace(/\t/g,"\t")).replace(/\\u([0-9A-Fa-f]{4})/g,((e,t)=>String.fromCharCode(parseInt(t,16))))).replace(/\\u\{([0-9A-Fa-f]+)\}/g,((e,t)=>String.fromCodePoint(parseInt(t,16))))).replace(/\\x([0-9A-Fa-f]{2})/g,((e,t)=>String.fromCharCode(parseInt(t,16))))).replace(/\\([0-7]{1,3})/g,((e,t)=>String.fromCharCode(parseInt(t,8)))),String(e)}function JavaScriptNumber(e){return Number(e)}function JavaScriptBoolean(e){return Boolean(e)}function JavaScriptBigInt(e){return`${BigInt(e)}n`}function masterConsoleHandler(e,...t){let r=t.map((e=>{let t;switch(e.constructor.name){case"Array":t=JavaScriptArray(e);break;case"Object":t=JavaScriptObject(e);break;case"String":t=JavaScriptString(e);break;case"BigInt":t=JavaScriptBigInt(e);break;case"Number":t=JavaScriptNumber(e);break;case"Boolean":t=JavaScriptBoolean(e);break;default:t=e}return t})).join(" ");return r=" ".repeat(2*level)+r.replace(/\u000A/g,"\n"+" ".repeat(2*level)),{type:e,message:r,typeOf:typeof t,method:e}}console.log=(...e)=>{self.postMessage(masterConsoleHandler("log",...e))},console.warn=(...e)=>{self.postMessage(masterConsoleHandler("warn",...e))},console.error=(...e)=>{self.postMessage(masterConsoleHandler("error",...e))},console.time=(e="default")=>{timers[e]=performance.now()},console.timeLog=(e="default",...t)=>{if(timers[e]){const r=`${e}: ${+(performance.now()-timers[e]).toFixed(3)}ms`;self.postMessage({type:"log",message:[r,...t].join(" "),method:"timeLog"})}else{const t=`No such label: ${e}`;self.postMessage({type:"error",message:t,method:"timeLog"})}},console.timeEnd=(e="default",...t)=>{if(timers[e]){const r=`${e}: ${+(performance.now()-timers[e]).toFixed(3)}ms`;self.postMessage({type:"log",message:[r,...t].join(" "),method:"timeEnd"}),delete timers[e]}else{const t=`No such label: ${e}`;self.postMessage({type:"error",message:t,method:"timeEnd"})}},console.count=(e="default")=>{counts[e]?counts[e]++:counts[e]=1;const t=`${e}: ${counts[e]}`;self.postMessage({type:"log",message:t,method:"count"})},console.countReset=(e="default")=>{if(counts[e])counts[e]=0;else{const t=`No such label: ${e}`;self.postMessage({type:"error",message:t,method:"countReset"})}},console.assert=(e,...t)=>{if(!e){const e=`Assertion failed: ${t.join(" ")}`;self.postMessage({type:"error",message:e,method:"assert"})}},console.info=(...e)=>{self.postMessage(masterConsoleHandler("info",...e))},console.debug=(...e)=>{self.postMessage(masterConsoleHandler("debug",...e))},console.group=()=>{level++},console.groupEnd=()=>{level--},console.groupCollapsed=()=>{level++},console.dir=e=>{self.postMessage({type:"log",message:function e(t,r=0){let n=" ".repeat(4*r),o="";if("object"==typeof t&&null!==t)if(Array.isArray(t))o+=JavaScriptArray(t);else{o+="Object";let l=!0;for(let a in t)if(t.hasOwnProperty(a)){l&&(o+="\n",l=!1);let s=t[a];o+="object"==typeof s&&null!==s?`${n}${a}: ${e(s,r+1)}\n`:"function"==typeof s?`${n}${a}: ${s.toString()}\n`:"string"==typeof s?`${n}${a}: "${s}"\n`:`${n}${a}: ${s}\n`}o=o.trim()}else o+=String(t);return o.trim()}(e),method:"dir"})},console.table=e=>{e&&"object"==typeof e?self.postMessage({type:"log",method:"table",message:function(e){function t(e,t,r,n,o){var l,a,s="";if(n&&(s+=" "),"letter"==r){a="",l=o;do{a=String.fromCharCode(65+l%26)+a,l=Math.floor(l/26)-1}while(l>-1);s+=a}else s+=(o+1).toString();return n&&(s+=" "),{cell:{x:e,y:t,colspan:1,rowspan:1},empty:!1,pseudoRows:[s],maxWidth:s.length,vAlign:"middle",hAlign:"center"}}function r(e,t,r,c,i,p,u,f,g,m){var d,h,y,b,v,S="";if(-1==m){if(y="horizontalTop","none"==g.horizontalTop)return S}else if(m>=e.vLen-1){if(y="horizontalBottom","none"==g.horizontalBottom)return S}else if(a(e,g,m,u))y="horizontalInnerHeader";else{if(!s(e,g,m))return S;y="horizontalInner"}var x=g[y],A=i[p][x].horizontal;for(S+=n(e,g,u,f,c,m,-1),d=0;d<t.length;d++){if(b=!0,m>-1&&(v=e.arr[m][d]).cell.x+v.cell.rowspan-1>m&&(b=!1,S+=l(e,o(e,r,g,u,m+1,d)-1,t,m,d),d+=v.cell.colspan-1),b)for(h=0;h<t[d];h++)S+=A;S+=n(e,g,u,f,c,m,d)}return 0==t.length&&(S+=n(e,g,u,f,c,m,t.length)),S+="\n"}function n(e,t,r,n,o,l,c){var i,p,u,f,g,m,d,h="";if(-1==l)i=!0,p=!1,g="horizontalTop";else if(l>=e.vLen-1)i=!1,p=!0,g="horizontalBottom";else if(i=!1,p=!1,a(e,t,l,r))g="horizontalInnerHeader";else{if(!s(e,t,l))return h;g="horizontalInner"}if(-1==c)u=!0,f=!1,d="verticalLeft";else if(c>=e.hLen-1)u=!1,f=!0,d="verticalRight";else if(u=!1,f=!1,"none"!=n&&0==c)d="verticalInnerHeader";else{if(!(c<e.hLen-1))return h;d="verticalInner"}!i&&c>=0&&(m=e.arr[l][c]).cell.y+m.cell.colspan-1>c&&(i=!0),!p&&c>=0&&(m=e.arr[l+1][c]).cell.y+m.cell.colspan-1>c&&(p=!0),!u&&l>=0&&(m=e.arr[l][c]).cell.x+m.cell.rowspan-1>l&&(u=!0),!f&&l>=0&&(m=e.arr[l][c+1]).cell.x+m.cell.rowspan-1>l&&(f=!0);var y=t[g],b=t[d];return h+=o[i?"none":b][f?"none":y][p?"none":b][u?"none":y]}function o(e,t,r,n,o,l){var c,i,p;return p=function(e,t,r,n,o,l){var c,i,p;for(c=0,i=n[o.cell.x],p=1;p<o.cell.rowspan;p++)i+=a(e,t,o.cell.x+p-1,r)||s(e,t,o.cell.x+p-1)?1:0,o.cell.x+p<=l&&(c=i),i+=n[o.cell.x+p];return{height:i,offset:c}}(e,r,n,t,i=e.arr[e.arr[o][l].cell.x][e.arr[o][l].cell.y],o),c=p.offset,"bottom"==i.vAlign?c+=i.pseudoRows.length-p.height:"middle"==i.vAlign?c+=Math.ceil((i.pseudoRows.length-p.height)/2):c+=0,c}function l(e,t,r,n,o){var l,a,s,c,i,p="";for(a=function(e,t){var r,n;for(r=e[t.cell.y],n=1;n<t.cell.colspan;n++)r+=1,r+=e[t.cell.y+n];return r}(r,l=e.arr[e.arr[n][o].cell.x][e.arr[n][o].cell.y]),c=l.empty?"":l.pseudoRows[t]||"",i="right"==l.hAlign?a-c.length:"center"==l.hAlign?Math.floor((a-c.length)/2):0,s=0;s<i;s++)p+=" ";for(p+=c.replace(/[<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"})),i=a-c.length-i,s=0;s<i;s++)p+=" ";return p}function a(e,t,r,n){return"none"!=t.horizontalInnerHeader&&"none"!=n&&0==r&&e.vLen>1}function s(e,t,r){return"none"!=t.horizontalInner&&r<e.vLen-1}var c,i,p,u,f={none:{none:{double:{double:"╗"}},double:{none:{double:"═"},double:{none:"╔",double:"╦"}}},double:{none:{none:{double:"╝"},double:{none:"║",double:"╣"}},double:{none:{none:"╚",double:"╩"},double:{none:"╠",double:"╬"}}}},g={unicode:{double:{vertical:f.double.none.double.none,horizontal:f.none.double.none.double}}},m=!0,d="unicode",h="first_line",y="none",b={horizontalTop:"double",horizontalInnerHeader:"double",horizontalInner:"double",horizontalBottom:"double",verticalLeft:"double",verticalInnerHeader:"double",verticalInner:"double",verticalRight:"double",asciiIntersection:"plus"},v=function(e,r,n,o){var l,a,s,c,i,p,u,f,g,m=[],d=e,h=0,y=0;for(l=0;l<d.length;l++){if(0==l&&("number"==n||"letter"==n)){for(m.push([]),"number"!=o&&"letter"!=o||(m[0][0]={cell:{x:0,y:0,colspan:1,rowspan:1},empty:!0},y=1),a=0;a<d[l].length;a++)m[0][a+y]={cell:{x:0,y:a+y,colspan:1,rowspan:1},empty:!0};h=1}for(m.push([]),"number"!=o&&"letter"!=o||(m[l+h][0]={cell:{x:l+h,y:0,colspan:1,rowspan:1},empty:!0},y=1),a=0;a<d[l].length;a++)if(c={x:l+h,y:a+y,colspan:1,rowspan:1},i=d[l][a]){for(u=0,p=i.toString().split("\n"),s=0;s<p.length;s++)r&&(0!==p[s].indexOf(" ",0)&&(p[s]=" "+p[s]),-1===p[s].indexOf(" ",p[s].length-1)&&(p[s]=p[s]+" ")),p[s].length>u&&(u=p[s].length);m[l+h][a+y]={cell:c,empty:!1,pseudoRows:p,maxWidth:u,vAlign:"top",hAlign:"left"}}else m[l+h][a+y]={cell:c,empty:!0}}if(f=function(e,t,r){var n,o,l,a,s=0;for(n=t;n>=0;n--)for(o=0;o<=r;o++)(l=e[n][o]).empty||(a=l.cell.x+l.cell.rowspan)>s&&(s=a);return s}(m,l+h-1,a+y-1),g=function(e,t,r){var n,o,l,a,s=0;for(o=r;o>=0;o--)for(n=0;n<=t;n++)(l=e[n][o]).empty||(a=l.cell.y+l.cell.colspan)>s&&(s=a);return s}(m,l+h-1,a+y-1),"none"!=o&&(y=1),"number"==n||"letter"==n)for(a=0;a<g-y;a++)m[0][a+y]=t(0,a+y,n,r,a);if("none"!=n&&(h=1),"number"==o||"letter"==o)for(l=0;l<f-h;l++)m[l+h][0]=t(l+h,0,o,r,l);return{arr:m,vLen:f,hLen:g}}(e,m,h,y),S=function(e,t){var r,n,o,l,a=[],s=[];for(n=0;n<e.hLen;n++){for(o=0,t&&(o=1),r=0;r<e.vLen;r++)(l=e.arr[r][n]).empty||(1==l.cell.colspan&&1==l.cell.rowspan?l.maxWidth>o&&(o=l.maxWidth):r==l.cell.x&&n==l.cell.y&&s.push(l));a[n]=o}return a}(v,m),x=function(e,t,r,n){var o,l,a,s,c=[],i=[];for(o=0;o<e.vLen;o++){for(a=0,n&&(a=1),l=0;l<e.hLen;l++)(s=e.arr[e.arr[o][l].cell.x][e.arr[o][l].cell.y]).empty||(1==s.cell.colspan&&1==s.cell.rowspan?s.pseudoRows.length>a&&(a=s.pseudoRows.length):o==s.cell.x&&l==s.cell.y&&i.push(s));c[o]=a}return c}(v,0,0,m),A="";for(A+=r(v,S,x,f,g,d,h,y,b,-1),c=0;c<v.vLen;c++){for(u=[],i=0;i<S.length;i++)u[i]=o(v,x,b,h,c,i);for(p=0;p<x[c];p++){for(A+=g[d][b.verticalLeft].vertical,i=0;i<S.length;i++)A+=l(v,u[i]+p,S,c,i),(i+=v.arr[c][i].cell.colspan-1)<S.length-1&&(A+=g[d][b.verticalInner].vertical);A+=g[d][b.verticalRight].vertical,A+="\n"}A+=r(v,S,x,f,g,d,h,y,b,c)}return 0==v.vLen&&(A+=r(v,S,x,f,g,d,h,y,b,v.vLen)),A.trim()}(function(e){const t=e.length||Object.keys(e).length,{maxObjectLength:r,maxArrayLength:n}=Object.values(e).reduce(((e,t)=>("object"!=typeof t||Array.isArray(t)?Array.isArray(t)&&(e.maxArrayLength=Math.max(e.maxArrayLength,t.length)):e.maxObjectLength=Math.max(e.maxObjectLength,Object.keys(t).length),e)),{maxObjectLength:0,maxArrayLength:0}),o=r+n,l=Object.keys(e).some((t=>"object"!=typeof e[t])),a=Array.from({length:t+1},(()=>Array.from({length:o+(l?2:1)},(()=>null)))),s=new Map;function c(e){return"string"==typeof e?`'${e}'`:Array.isArray(e)?JavaScriptArray(e):"object"==typeof e&&null!==e?JavaScriptObject(e):e}0!==t&&(a[0][0]="(index)",l&&(a[0][1]="Value"));const{primitives:i,arrays:p,objects:u}=function(e){const t={primitives:{},arrays:{},objects:{}};return Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?Array.isArray(n)?t.arrays[r]=n:t.objects[r]=n:t.primitives[r]=n})),t}(e);let f=1;l&&Object.keys(i).forEach((e=>{a[f][0]=e,a[f][1]=c(i[e]),f++})),Object.keys(p).forEach((e=>{a[f][0]=e,p[e].forEach(((e,t)=>{null===a[0][l?t+2:t+1]&&(a[0][l?t+2:t+1]=t+1),a[f][l?t+2:t+1]=c(e)})),f++})),Object.keys(u).forEach((e=>{a[f][0]=e;const t=u[e];Object.keys(t).forEach((e=>{let r=s.get(e)||a[0].indexOf(null);-1===r?(r=a[0].length,a[0][r]=e):a[0][r]=a[0][r]||e,s.set(e,r),a[f][r]=c(t[e])})),f++}));let g=Math.max(...a.map((e=>e.length)));for(let e=0;e<a.length;e++)for(;a[e].length<g;)a[e].push(null);return a.sort(((e,t)=>e[0]===t[0]?0:e[0]<t[0]?-1:1)),a}(e))}):console.log(e)},console.clear=()=>{self.postMessage({type:"clear",method:"clear"})};const Fetch=fetch;fetch=(e,t={})=>(t.mode="cors",Fetch(e,t));try{self.postMessage({executionStatus:"executionStarted"});const result=function(){eval(`(() => { ${transpiledCode} })()`)}();void 0!==result&&self.postMessage({type:"log",message:result,typeOf:typeof result})}catch(e){const t=e instanceof SyntaxError?"Syntax Error":"Runtime Error";self.postMessage({type:"error",message:`${t}: ${e.message}`})}finally{performance.mark("executionEnded"),performance.measure("Execution Time","executionStarted","executionEnded"),self.postMessage({executionStatus:"executionEnded",executionTime:performance.getEntriesByName("Execution Time")[0].duration})}};