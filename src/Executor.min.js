self.name="Executor.js";try{importScripts("https://unpkg.com/@babel/standalone/babel.min.js")}catch(e){console.error(e)}self.onmessage=function(event){const{code:code,formatLogs:formatLogs,TS:TS}=event.data;function Transpile(e,t){const n={filename:"TS"===t?"script.ts":void 0,presets:"TS"===t?["typescript"]:["env","es2015"],plugins:["transform-modules-umd"]};return"object"==typeof Babel?Babel.transform(e,n).code:e}performance.mark("executionStarted");const transpiledCode=TS?Transpile(code,"TS"):Transpile(code),timers={},counts={};let level=0;function JavaScriptObject(e,t=1,n=formatLogs){let r=n?" ".repeat(4*t):"",o=e.constructor&&"Object"!==e.constructor.name?e.constructor.name:"";if(0===Object.getOwnPropertyNames(e).length)return`${o} {}`.trim();let a=n?`${o} {\n`:`${o} { `;for(let l in e)if(Object.prototype.hasOwnProperty.call(e,l)){let s=e[l];if("function"==typeof s){if(o)continue;s=`[Function: ${l}]`}else"string"==typeof s?s=`'${JavaScriptString(s)}'`:"symbol"==typeof s?s=s.toString():Array.isArray(s)?s=JavaScriptArray(s,t+1,n):"object"==typeof s&&null!==s&&(s=JavaScriptObject(s,t+1,n));a+=n?`${r}${l}: ${s},\n`:`${l}: ${s}, `}return a=n?a.slice(0,-2)+`\n${" ".repeat(4*(t-1))}}`:a.slice(0,-2)+" }",a.trim()}function JavaScriptArray(e,t=1,n=formatLogs){if(0===e.length)return"[]";let r=n?" ".repeat(4*t):"",o=n?"[\n":"[ ";for(let a=0;a<e.length;a++){let l=e[a];"string"==typeof l?l=`'${JavaScriptString(l)}'`:Array.isArray(l)?l=JavaScriptArray(l,t+1,n):"object"==typeof l&&null!==l?l=JavaScriptObject(l,t+1,n):"function"==typeof l&&(l=`[Function: ${l.name||"anonymous"}]`),o+=n?`${r}${l},\n`:`${l}, `}return o=n?o.slice(0,-2)+`\n${" ".repeat(4*(t-1))}]`:o.slice(0,-2)+" ]",o.trim()}function JavaScriptSet(e){if(0===e.size)return"Set(0) {}";const t=Array.from(e).map((e=>"string"==typeof e?`'${e}'`:Array.isArray(e)?JavaScriptArray(e):"object"==typeof e?JavaScriptObject(e):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:"bigint"==typeof e?`${BigInt(e)}n`:e)).join(", ");return`Set(${e.size}) { ${t} }`}function JavaScriptMap(e){if(0===e.size)return"Map(0) {}";const t=Array.from(e).map((([e,t])=>{const n=e=>"string"==typeof e?`'${e}'`:Array.isArray(e)?JavaScriptArray(e):"object"==typeof e?JavaScriptObject(e):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:"bigint"==typeof e?`${BigInt(e)}n`:e;return`${e=n(e)} => ${t=n(t)}`})).join(", ");return`Map(${e.size}) { ${t} }`}function JavaScriptString(e){return e=(e=(e=(e=(e=e.replace(/\\/g,"\\").replace(/\'/g,"'").replace(/\"/g,'"').replace(/\n/g,"\n").replace(/\r/g,"\r").replace(/\t/g,"\t")).replace(/\\u([0-9A-Fa-f]{4})/g,((e,t)=>String.fromCharCode(parseInt(t,16))))).replace(/\\u\{([0-9A-Fa-f]+)\}/g,((e,t)=>String.fromCodePoint(parseInt(t,16))))).replace(/\\x([0-9A-Fa-f]{2})/g,((e,t)=>String.fromCharCode(parseInt(t,16))))).replace(/\\([0-7]{1,3})/g,((e,t)=>String.fromCharCode(parseInt(t,8)))),String(e)}function JavaScriptNumber(e){return Number(e).toString()}function JavaScriptBoolean(e){return Boolean(e).toString()}function JavaScriptBigInt(e){return`${BigInt(e)}n`}function JavaScriptFunction(e){return e.toString()}function masterConsoleHandler(e,...t){let n=t.map((e=>{let t;switch(!0){case"string"==typeof e&&e instanceof String&&"String"===e.constructor.name:t=JavaScriptString(e);break;case"bigint"==typeof e&&e instanceof BigInt&&"BigInt"===e.constructor.name:t=JavaScriptBigInt(e);break;case"number"==typeof e&&e instanceof Number&&"Number"===e.constructor.name:t=JavaScriptNumber(e);break;case"boolean"==typeof e&&e instanceof Boolean&&"Boolean"===e.constructor.name:t=JavaScriptBoolean(e);break;case"function"==typeof e&&e instanceof Function&&"Function"===e.constructor.name:t=JavaScriptFunction(e);break;case e instanceof Set&&"Set"===e.constructor.name:t=JavaScriptSet(e);break;case e instanceof Map&&"Map"===e.constructor.name:t=JavaScriptMap(e);break;case Array.isArray(e)&&e instanceof Array&&"Array"===e.constructor.name:t=JavaScriptArray(e);break;case null!==e&&"object"==typeof e&&e instanceof Object:t=JavaScriptObject(e);break;default:t=e}return t})).join(" ");return n=" ".repeat(2*level)+n.replace(/\u000A/g,"\n"+" ".repeat(2*level)),{type:e,message:n,typeOf:typeof t,method:"console."+e}}console.log=(...e)=>{self.postMessage(masterConsoleHandler("log",...e))},console.warn=(...e)=>{self.postMessage(masterConsoleHandler("warn",...e))},console.error=(...e)=>{self.postMessage(masterConsoleHandler("error",...e))},console.time=(e="default")=>{timers[e]=performance.now()},console.timeLog=(e="default",...t)=>{if(timers[e]){const n=`${e}: ${+(performance.now()-timers[e]).toFixed(3)}ms`;self.postMessage({type:"log",message:[n,...t].join(" "),method:"console.timeLog"})}else{const t=`No such label: ${e}`;self.postMessage({type:"error",message:t,method:"console.timeLog"})}},console.timeEnd=(e="default",...t)=>{if(timers[e]){const n=`${e}: ${+(performance.now()-timers[e]).toFixed(3)}ms`;self.postMessage({type:"log",message:[n,...t].join(" "),method:"console.timeEnd"}),delete timers[e]}else{const t=`No such label: ${e}`;self.postMessage({type:"error",message:t,method:"console.timeEnd"})}},console.count=(e="default")=>{counts[e]?counts[e]++:counts[e]=1;const t=`${e}: ${counts[e]}`;self.postMessage({type:"log",message:t,method:"console.count"})},console.countReset=(e="default")=>{if(counts[e])counts[e]=0;else{const t=`No such label: ${e}`;self.postMessage({type:"error",message:t,method:"console.countReset"})}},console.assert=(e,...t)=>{if(!e){const e=`Assertion failed: ${t.join(" ")}`;self.postMessage({type:"error",message:e,method:"console.assert"})}},console.info=(...e)=>{self.postMessage(masterConsoleHandler("info",...e))},console.debug=(...e)=>{self.postMessage(masterConsoleHandler("debug",...e))},console.group=()=>{level++},console.groupEnd=()=>{level--},console.groupCollapsed=()=>{level++},console.dir=e=>{self.postMessage({type:"log",message:function e(t,n=0){let r=" ".repeat(4*n),o="";if("object"==typeof t&&null!==t)if(Array.isArray(t))o+=JavaScriptArray(t);else{o+="Object";let a=!0;for(let l in t)if(Object.prototype.hasOwnProperty.call(t,l)){a&&(o+="\n",a=!1);let s=t[l];o+="object"==typeof s&&null!==s?`${r}${l}: ${e(s,n+1)}\n`:"function"==typeof s?`${r}${l}: ${s.toString()}\n`:"string"==typeof s?`${r}${l}: "${s}"\n`:`${r}${l}: ${s}\n`}o=o.trim()}else o+=String(t);return o.trim()}(e),method:"console.dir"})},console.table=e=>{e&&"object"==typeof e?self.postMessage({type:"log",method:"console.table",message:function(e){function t(e,t,n,r,o){var a,l,s="";if(r&&(s+=" "),"letter"==n){l="",a=o;do{l=String.fromCharCode(65+a%26)+l,a=Math.floor(a/26)-1}while(a>-1);s+=l}else s+=(o+1).toString();return r&&(s+=" "),{cell:{x:e,y:t,colspan:1,rowspan:1},empty:!1,pseudoRows:[s],maxWidth:s.length,vAlign:"middle",hAlign:"center"}}function n(e,t,n,c,i,f,p,u,g,m){var y,h,d,b,v,S="";if(-1==m){if(d="horizontalTop","none"==g.horizontalTop)return S}else if(m>=e.vLen-1){if(d="horizontalBottom","none"==g.horizontalBottom)return S}else if(l(e,g,m,p))d="horizontalInnerHeader";else{if(!s(e,g,m))return S;d="horizontalInner"}var $=g[d],x=i[f][$].horizontal;for(S+=r(e,g,p,u,c,m,-1),y=0;y<t.length;y++){if(b=!0,m>-1&&(v=e.arr[m][y]).cell.x+v.cell.rowspan-1>m&&(b=!1,S+=a(e,o(e,n,g,p,m+1,y)-1,t,m,y),y+=v.cell.colspan-1),b)for(h=0;h<t[y];h++)S+=x;S+=r(e,g,p,u,c,m,y)}return 0==t.length&&(S+=r(e,g,p,u,c,m,t.length)),S+="\n"}function r(e,t,n,r,o,a,c){var i,f,p,u,g,m,y,h="";if(-1==a)i=!0,f=!1,g="horizontalTop";else if(a>=e.vLen-1)i=!1,f=!0,g="horizontalBottom";else if(i=!1,f=!1,l(e,t,a,n))g="horizontalInnerHeader";else{if(!s(e,t,a))return h;g="horizontalInner"}if(-1==c)p=!0,u=!1,y="verticalLeft";else if(c>=e.hLen-1)p=!1,u=!0,y="verticalRight";else if(p=!1,u=!1,"none"!=r&&0==c)y="verticalInnerHeader";else{if(!(c<e.hLen-1))return h;y="verticalInner"}!i&&c>=0&&(m=e.arr[a][c]).cell.y+m.cell.colspan-1>c&&(i=!0),!f&&c>=0&&(m=e.arr[a+1][c]).cell.y+m.cell.colspan-1>c&&(f=!0),!p&&a>=0&&(m=e.arr[a][c]).cell.x+m.cell.rowspan-1>a&&(p=!0),!u&&a>=0&&(m=e.arr[a][c+1]).cell.x+m.cell.rowspan-1>a&&(u=!0);var d=t[g],b=t[y];return h+=o[i?"none":b][u?"none":d][f?"none":b][p?"none":d]}function o(e,t,n,r,o,a){var c,i,f;return f=function(e,t,n,r,o,a){var c,i,f;for(c=0,i=r[o.cell.x],f=1;f<o.cell.rowspan;f++)i+=l(e,t,o.cell.x+f-1,n)||s(e,t,o.cell.x+f-1)?1:0,o.cell.x+f<=a&&(c=i),i+=r[o.cell.x+f];return{height:i,offset:c}}(e,n,r,t,i=e.arr[e.arr[o][a].cell.x][e.arr[o][a].cell.y],o),c=f.offset,"bottom"==i.vAlign?c+=i.pseudoRows.length-f.height:"middle"==i.vAlign?c+=Math.ceil((i.pseudoRows.length-f.height)/2):c+=0,c}function a(e,t,n,r,o){var a,l,s,c,i,f="";for(l=function(e,t){var n,r;for(n=e[t.cell.y],r=1;r<t.cell.colspan;r++)n+=1,n+=e[t.cell.y+r];return n}(n,a=e.arr[e.arr[r][o].cell.x][e.arr[r][o].cell.y]),c=a.empty?"":a.pseudoRows[t]||"",i="right"==a.hAlign?l-c.length:"center"==a.hAlign?Math.floor((l-c.length)/2):0,s=0;s<i;s++)f+=" ";for(f+=c.replace(/[<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"})),i=l-c.length-i,s=0;s<i;s++)f+=" ";return f}function l(e,t,n,r){return"none"!=t.horizontalInnerHeader&&"none"!=r&&0==n&&e.vLen>1}function s(e,t,n){return"none"!=t.horizontalInner&&n<e.vLen-1}var c,i,f,p,u={none:{none:{double:{double:"╗"}},double:{none:{double:"═"},double:{none:"╔",double:"╦"}}},double:{none:{none:{double:"╝"},double:{none:"║",double:"╣"}},double:{none:{none:"╚",double:"╩"},double:{none:"╠",double:"╬"}}}},g={unicode:{double:{vertical:u.double.none.double.none,horizontal:u.none.double.none.double}}},m=!0,y="unicode",h="first_line",d="none",b={horizontalTop:"double",horizontalInnerHeader:"double",horizontalInner:"double",horizontalBottom:"double",verticalLeft:"double",verticalInnerHeader:"double",verticalInner:"double",verticalRight:"double",asciiIntersection:"plus"},v=function(e,n,r,o){var a,l,s,c,i,f,p,u,g,m=[],y=e,h=0,d=0;for(a=0;a<y.length;a++){if(0==a&&("number"==r||"letter"==r)){for(m.push([]),"number"!=o&&"letter"!=o||(m[0][0]={cell:{x:0,y:0,colspan:1,rowspan:1},empty:!0},d=1),l=0;l<y[a].length;l++)m[0][l+d]={cell:{x:0,y:l+d,colspan:1,rowspan:1},empty:!0};h=1}for(m.push([]),"number"!=o&&"letter"!=o||(m[a+h][0]={cell:{x:a+h,y:0,colspan:1,rowspan:1},empty:!0},d=1),l=0;l<y[a].length;l++)if(c={x:a+h,y:l+d,colspan:1,rowspan:1},i=y[a][l]){for(p=0,f=i.toString().split("\n"),s=0;s<f.length;s++)n&&(0!==f[s].indexOf(" ",0)&&(f[s]=" "+f[s]),-1===f[s].indexOf(" ",f[s].length-1)&&(f[s]=f[s]+" ")),f[s].length>p&&(p=f[s].length);m[a+h][l+d]={cell:c,empty:!1,pseudoRows:f,maxWidth:p,vAlign:"top",hAlign:"left"}}else m[a+h][l+d]={cell:c,empty:!0}}if(u=function(e,t,n){var r,o,a,l,s=0;for(r=t;r>=0;r--)for(o=0;o<=n;o++)(a=e[r][o]).empty||(l=a.cell.x+a.cell.rowspan)>s&&(s=l);return s}(m,a+h-1,l+d-1),g=function(e,t,n){var r,o,a,l,s=0;for(o=n;o>=0;o--)for(r=0;r<=t;r++)(a=e[r][o]).empty||(l=a.cell.y+a.cell.colspan)>s&&(s=l);return s}(m,a+h-1,l+d-1),"none"!=o&&(d=1),"number"==r||"letter"==r)for(l=0;l<g-d;l++)m[0][l+d]=t(0,l+d,r,n,l);if("none"!=r&&(h=1),"number"==o||"letter"==o)for(a=0;a<u-h;a++)m[a+h][0]=t(a+h,0,o,n,a);return{arr:m,vLen:u,hLen:g}}(e,m,h,d),S=function(e,t){var n,r,o,a,l=[],s=[];for(r=0;r<e.hLen;r++){for(o=0,t&&(o=1),n=0;n<e.vLen;n++)(a=e.arr[n][r]).empty||(1==a.cell.colspan&&1==a.cell.rowspan?a.maxWidth>o&&(o=a.maxWidth):n==a.cell.x&&r==a.cell.y&&s.push(a));l[r]=o}return l}(v,m),$=function(e,t,n,r){var o,a,l,s,c=[],i=[];for(o=0;o<e.vLen;o++){for(l=0,r&&(l=1),a=0;a<e.hLen;a++)(s=e.arr[e.arr[o][a].cell.x][e.arr[o][a].cell.y]).empty||(1==s.cell.colspan&&1==s.cell.rowspan?s.pseudoRows.length>l&&(l=s.pseudoRows.length):o==s.cell.x&&a==s.cell.y&&i.push(s));c[o]=l}return c}(v,0,0,m),x="";for(x+=n(v,S,$,u,g,y,h,d,b,-1),c=0;c<v.vLen;c++){for(p=[],i=0;i<S.length;i++)p[i]=o(v,$,b,h,c,i);for(f=0;f<$[c];f++){for(x+=g[y][b.verticalLeft].vertical,i=0;i<S.length;i++)x+=a(v,p[i]+f,S,c,i),(i+=v.arr[c][i].cell.colspan-1)<S.length-1&&(x+=g[y][b.verticalInner].vertical);x+=g[y][b.verticalRight].vertical,x+="\n"}x+=n(v,S,$,u,g,y,h,d,b,c)}return 0==v.vLen&&(x+=n(v,S,$,u,g,y,h,d,b,v.vLen)),x.trim()}(function(e){const t=e.length||Object.keys(e).length,{maxObjectLength:n,maxArrayLength:r}=Object.values(e).reduce(((e,t)=>("object"!=typeof t||Array.isArray(t)?Array.isArray(t)&&(e.maxArrayLength=Math.max(e.maxArrayLength,t.length)):e.maxObjectLength=Math.max(e.maxObjectLength,Object.keys(t).length),e)),{maxObjectLength:0,maxArrayLength:0}),o=n+r,a=Object.keys(e).some((t=>"object"!=typeof e[t])),l=Array.from({length:t+1},(()=>Array.from({length:o+(a?2:1)},(()=>null)))),s=new Map;function c(e){return"string"==typeof e?`'${e}'`:Array.isArray(e)?JavaScriptArray(e):"object"==typeof e&&null!==e?JavaScriptObject(e):e}0!==t&&(l[0][0]="(index)",a&&(l[0][1]="Value"));const{primitives:i,arrays:f,objects:p}=function(e){const t={primitives:{},arrays:{},objects:{}};return Object.keys(e).forEach((n=>{const r=e[n];"object"==typeof r?Array.isArray(r)?t.arrays[n]=r:t.objects[n]=r:t.primitives[n]=r})),t}(e);let u=1;a&&Object.keys(i).forEach((e=>{l[u][0]=e,l[u][1]=c(i[e]),u++})),Object.keys(f).forEach((e=>{l[u][0]=e,f[e].forEach(((e,t)=>{null===l[0][a?t+2:t+1]&&(l[0][a?t+2:t+1]=t+1),l[u][a?t+2:t+1]=c(e)})),u++})),Object.keys(p).forEach((e=>{l[u][0]=e;const t=p[e];Object.keys(t).forEach((e=>{let n=s.get(e)||l[0].indexOf(null);-1===n?(n=l[0].length,l[0][n]=e):l[0][n]=l[0][n]||e,s.set(e,n),l[u][n]=c(t[e])})),u++}));let g=Math.max(...l.map((e=>e.length)));for(let e=0;e<l.length;e++)for(;l[e].length<g;)l[e].push(null);return l.sort(((e,t)=>e[0]===t[0]?0:e[0]<t[0]?-1:1)),l}(e))}):console.log(e)},console.clear=()=>{self.postMessage({type:"clear",method:"console.clear"})};const Fetch=fetch;fetch=(e,t={})=>(t.mode="cors",Fetch(e,t));try{self.postMessage({executionStatus:"executionStarted"});const result=function(){eval(`(() => { ${transpiledCode} })()`)}();void 0!==result&&self.postMessage({type:"log",message:result,typeOf:typeof result,method:"globalThis.eval"})}catch(e){const t=e instanceof SyntaxError?"Syntax Error":"Runtime Error";self.postMessage({type:"error",message:`${t}: ${e.message}`})}finally{performance.mark("executionEnded"),performance.measure("Execution Time","executionStarted","executionEnded"),self.postMessage({executionStatus:"executionEnded",executionTime:performance.getEntriesByName("Execution Time")[0].duration})}};